window.formVisibilityGroupRules=function(){function e(e){let t=e.tagName,n=(e.type||"").toLowerCase();if("SELECT"===t||"checkbox"===n||"radio"===n||"file"===n){e.dispatchEvent(new Event("change"));return}if("INPUT"===t||"TEXTAREA"===t){e.dispatchEvent(new Event("input")),e.dispatchEvent(new Event("keyup"));return}e.dispatchEvent(new Event("input"))}function t(t){var n=t.getAttribute("data-default-value")||"",a=t.type.toLowerCase();"checkbox"===a||"radio"===a?t.checked="on"==n:t.value=n,e(t)}function n(e){return document.querySelector(`input[name="${e}"],select[name="${e}"],textarea[name="${e}"]`)}return{initialize:function(a){let r=n(a.elementName);if(!r||"None"===a.action)return;"checkbox"===r.type.toLowerCase()||"radio"===r.type.toLowerCase()?r.setAttribute("data-default-value",r.checked?"on":"off"):r.setAttribute("data-default-value",r.value);let i=r.closest(".widget");(function e(a,r,i,o){let s=!1;a.groups.forEach(t=>{let u=!0;t.rules?.forEach(t=>{let s=n(t.field);if(!s){console.warn(`Field element not found: ${t.field}. Ignoring the bad field.`);return}var c=function(e,t){if(!t.operator)return console.warn("Rule operator is missing for rule",t),!1;var n=e?e.trim().toLowerCase():"",a=t.value?t.value.trim().toLowerCase():"";switch(t.operator){case"Is":return n===a;case"IsNot":return n!==a;case"Contains":return n.includes(a);case"DoesNotContain":return!n.includes(a);case"StartsWith":return n.startsWith(a);case"EndsWith":return n.endsWith(a);case"GreaterThan":var r=parseFloat(e),i=parseFloat(t.value);if(!isNaN(r)&&!isNaN(i))return r>i;return e>t.value;case"LessThan":var r=parseFloat(e),i=parseFloat(t.value);if(!isNaN(r)&&!isNaN(i))return r<i;return e<t.value;case"Empty":return""===n;case"NotEmpty":return""!==n;default:return console.warn(`validateRule: Unknown operator "${t.operator}" in rule`,t),!1}}("checkbox"===s.type.toLowerCase()?s.checked?"true":"false":s.value,t);u&&!c&&(u=!1),o&&function(e,t){let n=e.tagName,a=(e.type||"").toLowerCase();if("SELECT"===n){if("checkbox"===a){e.addEventListener("change",t);return}e.addEventListener("change",t);return}if("INPUT"===n){if("checkbox"===a||"radio"===a){e.addEventListener("change",t),e.addEventListener("click",t);return}if("file"===a){e.addEventListener("change",t);return}e.addEventListener("input",t),e.addEventListener("keyup",t);return}if("TEXTAREA"===n){e.addEventListener("input",t),e.addEventListener("keyup",t);return}e.addEventListener("input",t)}(s,t=>{e(a,r,i,!1)})}),s=s||u}),i&&("Show"===a.action?s?i.classList.remove("d-none"):(i.classList.add("d-none"),t(r)):"Hide"===a.action&&(s?(i.classList.add("d-none"),t(r)):i.classList.remove("d-none")))})(a,r,i,!0),e(r)}}}();
//# sourceMappingURL=form-visibility-rules.map