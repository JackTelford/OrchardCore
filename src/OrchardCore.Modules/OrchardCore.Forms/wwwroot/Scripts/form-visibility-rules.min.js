window.formVisibilityGroupRules=function(){function e(e){var t=e.tagName.toUpperCase(),n=(e.type||"").toLowerCase();if("SELECT"!==t&&"checkbox"!==n&&"radio"!==n&&"file"!==n)return"INPUT"===t||"TEXTAREA"===t?(e.dispatchEvent(new Event("input")),void e.dispatchEvent(new Event("keyup"))):void e.dispatchEvent(new Event("input"));e.dispatchEvent(new Event("change"))}function t(e,r,o,i){var s=!1;e.groups.forEach((function(n){var c,u=!0;null===(c=n.rules)||void 0===c||c.forEach((function(n){var s=a(n.field);if(s){var c=function(e,t){if(!t.operator)return console.warn("Rule operator is missing for rule",t),!1;var n=e?e.trim().toLowerCase():"",a=t.value?t.value.trim().toLowerCase():"";switch(t.operator){case"Is":return n===a;case"IsNot":return n!==a;case"Contains":return n.includes(a);case"DoesNotContain":return!n.includes(a);case"StartsWith":return n.startsWith(a);case"EndsWith":return n.endsWith(a);case"GreaterThan":var r=parseFloat(e),o=parseFloat(t.value);return isNaN(r)||isNaN(o)?e>t.value:r>o;case"LessThan":r=parseFloat(e),o=parseFloat(t.value);return isNaN(r)||isNaN(o)?e<t.value:r<o;case"Empty":return""===n;case"NotEmpty":return""!==n;default:return console.warn('validateRule: Unknown operator "'.concat(t.operator,'" in rule'),t),!1}}("checkbox"===s.type?s.checked?"true":"false":s.value,n);u&&!c&&(u=!1),i&&function(e,t){var n=e.tagName.toUpperCase(),a=(e.type||"").toLowerCase();if("SELECT"!==n)return"INPUT"===n?"checkbox"===a||"radio"===a?(e.addEventListener("change",t),void e.addEventListener("click",t)):"file"===a?void e.addEventListener("change",t):(e.addEventListener("input",t),void e.addEventListener("keyup",t)):"TEXTAREA"===n?(e.addEventListener("input",t),void e.addEventListener("keyup",t)):void e.addEventListener("input",t);e.addEventListener("change",t)}(s,(function(n){t(e,r,o,!1)}))}else console.warn("Field element not found: ".concat(n.field,". Ignoring the bad field."))})),s=s||u})),o&&("Show"===e.action?s?o.classList.remove("d-none"):(o.classList.add("d-none"),n(r)):"Hide"===e.action&&(s?(o.classList.add("d-none"),n(r)):o.classList.remove("d-none")))}function n(t){var n=t.getAttribute("data-default-value")||"";"checkbox"==t.type||"radio"==t.type?t.checked="on"==n:t.value=n,e(t)}function a(e){return document.querySelector('input[name="'.concat(e,'"],select[name="').concat(e,'"],textarea[name="').concat(e,'"]'))}return{initialize:function(n){var r=a(n.elementName);if(r&&"None"!==n.action){"checkbox"==r.type||"radio"==r.type?r.setAttribute("data-default-value",r.checked?"on":"off"):r.setAttribute("data-default-value",r.value);var o=r.closest(".widget");t(n,r,o,!0),e(r)}}}}();
